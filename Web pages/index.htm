<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Flyport online webserver</title>
<link href="style/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="scripts/mchp.js"></script>
</head>

<body>
<div id="content">
	<div id="logo"><img src="images/logo.jpg" alt="Picus" /> </div>
	<!--
	<table id="menu" border="0">
		<tr>
			<th class="active"></th>
			<th class="active"><span class="key">H</span>ome</th>
			<th class="active"></th>
		</tr>
	</table>
	-->
	<div id="intro_right">
	<p class="white">Wireless Webserver</p>
	<h1>Project SmartClassRoom</h1>
	<p>With this project we can access through a web server to the measurement of the temperature and the choice of the light on or off via an OpenPicus. </p>
	<p>May 2013</p>
	</div>
	<div id="status">
		<div id="loading" style="display:none">Error:<br />Connection to Flyport control board was lost.</div>
		<div id="display">
			<span style="float:right;font-size:9px;font-weight:normal;padding-top:8px;text-indent:0px">(click on led light)</span>
			<p>Luz:<br /><span class="leds">
			<a id="led0" onclick="newAJAXCommand('leds.cgi?led=0');"> ON &bull;</a>
			<a id="led1" onclick="newAJAXCommand('leds.cgi?led=1');"> OFF &bull;</a>

			<p>Temperature is: <span id="temp" style="font-weight:normal">?</span>
			<div style=" width:204px; height:13px; background-color:#92b7d3;">
				<div id ="bar1" style="width:90px; height:13px; background-color:#12365e; border-right:1px white solid;"></div>
			</div></p>
		</div>
	</div>

<script type="text/javascript">
<!--
// Parses the xmlResponse from status.xml and updates the status box
function updateStatus(xmlData) {
	var mainstat = document.getElementById('display').style.display;
	var loadstat = document.getElementById('loading').style.display;

	// Check if a timeout occurred
	if(!xmlData)
	{
		mainstat = 'none';
		loadstat = 'inline';	

		return;
	}

	// Make sure we're displaying the status display
	mainstat = 'inline';
	loadstat = 'none';

	// Loop over all the LEDs
	for(i = 0; i < 2; i++)
		document.getElementById('led' + i).style.color = (getXMLValue(xmlData, 'led' + i) == '1') ? '#ff8b00' : '#777';

	// Update the TEMP value
	document.getElementById('temp').innerHTML = getXMLValue(xmlData, 'temp');
	var wd1 = (getXMLValue(xmlData, 'temp'))/2;
	document.getElementById('bar1').style.width= wd1 +"px";
		
}
setTimeout("newAJAXCommand('status.xml', updateStatus, true)",500);
//-->
</script>
	</div>
	<div align="center" class="special">
		<a title="Validate">Authors: Ivan Bravo Gijon (@ibravogi) and Jorge Oiz Acosta (@joizacos) </a>
	</div>
</div>
</body>
</html>
